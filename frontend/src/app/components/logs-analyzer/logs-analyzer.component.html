<div class="row">
  <div class="analogs-title col-12 col-sm-12 col-md-4 col-lg-3 col-xl-3">
    <!-- Initial Date -->
    <div class="my-4">
      <mat-form-field class="w-100" color="accent">
        <mat-label class="text-base color-3">{{ 'minDate' | translate }}</mat-label>
        <input matInput [matDatepicker]="pickerStart">
        <mat-hint class="text-base color-3">DD/MM/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="pickerStart"></mat-datepicker-toggle>
        <mat-datepicker #pickerStart color="primary"></mat-datepicker>
      </mat-form-field>
    </div>
    <!-- Final Date -->
    <div class="my-4">
      <mat-form-field class="w-100" color="accent">
        <mat-label class="text-base color-3">{{ 'maxDate' | translate }}</mat-label>
        <input matInput [matDatepicker]="pickerFinal">
        <mat-hint class="text-base color-3">DD/MM/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="pickerFinal"></mat-datepicker-toggle>
        <mat-datepicker #pickerFinal color="primary"></mat-datepicker>
      </mat-form-field>
    </div>
    <!-- Input topics -->
    <div class="my-4">
      <mat-form-field class="w-100">
        <mat-label class="text-base color-3">{{ 'enterTopic' | translate }}</mat-label>
        <mat-chip-grid #chipGrid aria-label="Introducir topic">
          <mat-chip-row *ngFor="let topic of allListTopics"
            (removed)="remove(topic)"
            [editable]="true"
            (edited)="edit(topic, $event)"
            [aria-description]="'presionar intro para editar ' + topic.topic">
            {{ topic.topic }}
            <button matChipRemove [attr.aria-label]="'remove ' + topic.topic">
              <mat-icon>cancel</mat-icon>
            </button>
          </mat-chip-row>
          <input id="idInputTopic" placeholder="Nuevo topic..."
            [matChipInputFor]="chipGrid"
            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
            [matChipInputAddOnBlur]="addOnBlur"
            (matChipInputTokenEnd)="add($event)"/>
        </mat-chip-grid>
      </mat-form-field>
    </div>
    <!-- Input File -->
    <div class="my-4">
      <ngx-file-drop dropZoneLabel="Drop files here" (onFileDrop)="dropped($event)" 
      (onFileOver)="fileOver($event)" (onFileLeave)="fileLeave($event)">
        <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector">
          <span class="text-base color-3">Arrastrar aquí o pulsar en el botón para cargar ficheros</span>
          <div class="mx-4">
            <button type="button" (click)="openFileSelector()" class="btn-style btn-analyze color-4">Cargar</button>
          </div>
        </ng-template>
      </ngx-file-drop>
    </div>

    <!-- Button analyze -->
    <div class="my-4">
      <div *ngFor="let item of files; let i=index" class="text-base color-3 text-center py-2">
        <strong>{{ item.relativePath }}</strong>
      </div>
      <button type="submit" class="btn-style-standard btn-analyze color-4" (click)="compareDates">{{ 'analize' | translate }}</button>
    </div>
  </div>
  <!-- TABLE -->
  <div class="col-12 col-sm-12 col-md-8 col-lg-9 col-xl-9">
    <table mat-table [dataSource]="dataSource" class="">
      <!-- Date Column -->
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef> Fecha </th>
        <td mat-cell *matCellDef="let element"> {{element.date}} </td>
      </ng-container>
    
      <!-- Topic Column -->
      <ng-container matColumnDef="topic">
        <th mat-header-cell *matHeaderCellDef> Topic </th>
        <td mat-cell *matCellDef="let element"> {{element.topic}} </td>
      </ng-container>
    
      <!-- Message Column -->
      <ng-container matColumnDef="message">
        <th mat-header-cell *matHeaderCellDef> Mensaje </th>
        <td mat-cell *matCellDef="let element"> {{element.message}} </td>
      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell text-base text-center" colspan="4">No hay información disponible</td>
      </tr>
    </table>
  </div>
</div>
